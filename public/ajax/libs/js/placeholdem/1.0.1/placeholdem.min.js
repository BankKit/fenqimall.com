define(function(require){var e;e=require("jquery");var f=function(b){(function(){for(var d=0,a=["ms","moz","webkit","o"],b=0;b<a.length&&!window.requestAnimationFrame;++b)window.requestAnimationFrame=window[a[b]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[a[b]+"CancelAnimationFrame"]||window[a[b]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(a,b){var c=(new Date).getTime(),e=Math.max(0,16-(c-d)),h=window.setTimeout(function(){a(c+e)},e);d=c+e;return h});window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)})})();var c={init:function(){c.elems=[];if(b&&b.length)for(var d=0;d<b.length;d++)c.hasPlaceholder(b[d])&&c.elems.push(new c.PlaceholdemElem(b[d]));else b&&c.hasPlaceholder(b)&&c.elems.push(new c.PlaceholdemElem(b))},hasPlaceholder:function(b){return"function"===typeof b.hasAttribute&&b.hasAttribute("placeholder")},PlaceholdemElem:function(b){var a=this;a.init=function(){a.elem=b;a.placeholder=a.elem.getAttribute("placeholder");a.elem.removeAttribute("placeholder");a.rAF=null;a.animating=0;a.elem.value||(a.elem.value=a.placeholder);a.on(a.elem,"focus",a.onFocus);a.on(a.elem,"blur",a.onBlur);a.on(a.elem,"keydown",a.onKeydown)};a.on=function(a,b,c){a.addEventListener?a.addEventListener(b,c):a.attachEvent("on"+b,c)};a.onFocus=function(){if(a.animating||a.elem.value===a.placeholder)a.animating=1,window.cancelAnimationFrame(a.rAF),a.deletePlaceholder()};a.onBlur=function(){if(a.animating||""===a.elem.value)a.animating=1,window.cancelAnimationFrame(a.rAF),a.restorePlaceholder()};a.onKeydown=function(){a.animating&&(a.animating=0,window.cancelAnimationFrame(a.rAF),a.elem.value="")};a.deletePlaceholder=function(){0<a.elem.value.length?(a.elem.value=a.elem.value.slice(0,-1),a.rAF=window.requestAnimationFrame(a.deletePlaceholder)):a.animating=0};a.restorePlaceholder=function(){a.elem.value.length<a.placeholder.length?(a.elem.value+=a.placeholder[a.elem.value.length],a.rAF=window.requestAnimationFrame(a.restorePlaceholder)):a.animating=0};a.init()}};c.init();return c};return{excute:function(b){null!==b&&(e.isArray(b)?0!==b.length&&e.each(b,function(b,d){f(d)}):f(o))}}});